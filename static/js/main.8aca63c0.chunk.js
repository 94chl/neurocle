(this.webpackJsonpneurocle=this.webpackJsonpneurocle||[]).push([[0],{102:function(t,e,n){"use strict";n.r(e);var o=n(5),r=n.n(o),i=n(61),s=n.n(i),c=(n(92),n(32)),a=n.n(c),l=n(76),u=n.n(l),h=n(0),p=n(4),d=n(10),j=n(72),b=n.n(j),y=n(36),f=n(47),O=n(67),x=Object(O.b)({name:"canvas",initialState:{shapeType:"rect",strokeColor:"#000000",strokeWidth:5,fillColor:"#000000",fillColorTransparency:!0,shapes:[],layersHistory:[],layersNow:-1,layersHistoryLimit:40},reducers:{seShapeType:function(t,e){var n=e.payload;t.shapeType=n},setColor:function(t,e){var n=e.payload;t[n.target]=n.value},setFillColorTransparency:function(t){t.fillColorTransparency=!t.fillColorTransparency},setStrokeWidth:function(t,e){var n=e.payload;t.strokeWidth=n},setShapes:function(t,e){var n=e.payload;t.shapes=n},setLayersHitory:function(t,e){var n=e.payload;t.layersHistory=n},setLayersNow:function(t,e){var n=e.payload;t.layersNow=n}}}),v=function(t,e){var n=Object(o.useState)((function(){var n=JSON.parse(localStorage.getItem(t));return n||e})),r=Object(d.a)(n,2),i=r[0],s=r[1];return[i,function(e){var n="function"===typeof e?e(i):e;s(n),localStorage.setItem(t,JSON.stringify(n))}]},g=n(29),k=n(9),C=b.a.container,w=b.a.stage,_=function(){var t=Object(o.useState)({width:0,height:0}),e=Object(d.a)(t,2),n=e[0],r=e[1],i=Object(o.useRef)(null);Object(o.useEffect)((function(){i.current&&r({width:i.current.clientWidth,height:i.current.clientHeight});var t=function(){r({width:i.current.clientWidth,height:i.current.clientHeight})};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]);var s=Object(f.b)(),c=Object(f.c)((function(t){return t.canvas})),l=c.shapes,u=c.shapeType,j=c.strokeColor,b=c.strokeWidth,O=c.fillColor,_=c.fillColorTransparency,m=c.layersHistory,S=c.layersNow,T=c.layersHistoryLimit,W=v("storedLayersHistory",[]),B=Object(d.a)(W,2),N=B[0],L=B[1],H=v("storedLayersNow",-1),I=Object(d.a)(H,2),E=I[0],A=I[1];Object(o.useEffect)((function(){N[E]<0&&A(N.length-1),!m.length&&N.length&&(s(x.actions.setLayersHitory(N)),s(x.actions.setLayersNow(E)),s(x.actions.setShapes(N[E]?N[E]:[])))}),[]);var M=Object(o.useState)([]),D=Object(d.a)(M,2),F=D[0],R=D[1],J=Object(o.useState)({type:u,x:0,y:0,width:0,height:0,points:[],strokeColor:j,strokeWidth:b,fillColor:O,fillColorTransparency:_}),z=Object(d.a)(J,2),P=z[0],G=z[1],X=Object(o.useRef)(!1),Y=Object(o.useRef)(!1);Object(o.useEffect)((function(){Y.current=!!["spline","polygon"].includes(u)}),[u]);var q=function(t){try{if(F.length>10)throw new Error("Sentry: shape points Error");R([].concat(Object(p.a)(F),[t.pageX,t.pageY])),X.current=!0}catch(t){console.error(t),g.c(t),R([]),X.current=!1}},K=function(){G({type:u,x:0,y:0,width:0,height:0,points:[],strokeColor:j,strokeWidth:b,fillColor:O,fillColorTransparency:_}),R([]),X.current=!X.current},Q=function(t){if(!t||Y.current){var e=Object(p.a)(l),n=S<T-1?m.filter((function(t,e){return e<=S})):m.filter((function(t,e){return m.length-T+1<=e&&e<T}));if(t&&Y.current){var o=Object(h.a)(Object(h.a)({},P),{},{points:F.slice(0,F.length-2)});e.push(o)}else e.push(P);s(x.actions.setShapes(e)),n.push(e),L(n),s(x.actions.setLayersHitory(n));var r=S+1<T-1?S+1:T-1;A(r),s(x.actions.setLayersNow(r)),K()}else K()};return Object(k.jsx)("div",{className:a()(C),ref:i,onMouseDown:function(t){return 0===t.button&&!Y.current&&q(t)},onMouseUp:function(){return!Y.current&&Q(!1)},onClick:function(t){return Y.current&&q(t)},onMouseMove:function(t){return X.current&&function(t){R([].concat(Object(p.a)(F.slice(0,F.length>2?F.length-2:2)),[t.pageX,t.pageY]));var e=F[0]-F[F.length-2],n=F[1]-F[F.length-1],o=e<0?F[0]:F[F.length-2],r=n<0?F[1]:F[F.length-1],i={type:u,x:"ellipse"===u?o+Math.abs(e)/2:o,y:"ellipse"===u?r+Math.abs(n)/2:r,width:Math.abs(e),height:Math.abs(n),points:Object(p.a)(F),strokeColor:j,strokeWidth:b,fillColor:O,fillColorTransparency:_};G(i)}(t)},onDoubleClick:function(){return Y.current&&Q(!1)},onKeyDown:function(t){return"Escape"===t.key&&Q(!0)},tabIndex:"0",children:Object(k.jsx)(y.e,{className:a()(w),width:n.width,height:n.height,children:Object(k.jsxs)(y.b,{children:[l&&l.map((function(t,e){return"line"===(null===t||void 0===t?void 0:t.type)?Object(k.jsx)(y.c,{stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points},"".concat(t.type,"-").concat(e)):"spline"===(null===t||void 0===t?void 0:t.type)?Object(k.jsx)(y.c,{stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points,tension:.5},"".concat(t.type,"-").concat(e)):"ellipse"===(null===t||void 0===t?void 0:t.type)?Object(k.jsx)(y.a,{fill:t.fillColorTransparency?"transparent":t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,x:t.x,y:t.y,width:t.width,height:t.height},"".concat(t.type,"-").concat(e)):"rect"===(null===t||void 0===t?void 0:t.type)?Object(k.jsx)(y.d,{fill:t.fillColorTransparency?"transparent":t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,x:t.x,y:t.y,width:t.width,height:t.height},"".concat(t.type,"-").concat(e)):"polygon"===(null===t||void 0===t?void 0:t.type)?Object(k.jsx)(y.c,{fill:t.fillColorTransparency?"transparent":t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points,closed:!0},"".concat(t.type,"-").concat(e)):void 0})),"line"===u&&Object(k.jsx)(y.c,{stroke:j,strokeWidth:b,points:P.points}),"spline"===u&&Object(k.jsx)(y.c,{stroke:j,strokeWidth:b,points:F,tension:.5}),"ellipse"===u&&Object(k.jsx)(y.a,{fill:_?"transparent":O,stroke:j,strokeWidth:b,x:P.x,y:P.y,width:P.width,height:P.height}),"rect"===u&&Object(k.jsx)(y.d,{fill:_?"transparent":O,stroke:j,strokeWidth:b,x:P.x,y:P.y,width:P.width,height:P.height}),"polygon"===u&&Object(k.jsx)(y.c,{fill:_?"transparent":O,stroke:j,strokeWidth:b,points:F,closed:!0})]})})})},m=n(56),S=n.n(m),T=S.a.container,W=S.a.shapeButtonBox,B=S.a.customInputBox,N=S.a.controlButtonBox,L=S.a.guideBox,H=function(){var t=Object(f.b)(),e=Object(f.c)((function(t){return t.canvas})),n=e.shapes,o=e.shapeType,r=e.strokeColor,i=e.strokeWidth,s=e.fillColor,c=e.fillColorTransparency,l=e.layersHistory,u=e.layersNow,h=e.layersHistoryLimit,p=v("storedLayersHistory",[]),j=Object(d.a)(p,2),b=(j[0],j[1]),y=v("storedLayersNow",-1),O=Object(d.a)(y,2),C=(O[0],O[1]),w=function(e){t(x.actions.seShapeType(e))},_=function(e,n){t(x.actions.setColor({target:n,value:e.target.value}))};return Object(k.jsxs)("div",{className:a()(T),children:[Object(k.jsx)(R,{onClick:function(){try{throw new Error("Sentry: Button Error")}catch(t){console.error(t),g.c(t)}},children:"\uc5d0\ub7ec\ubc1c\uc0dd"}),Object(k.jsxs)("div",{className:a()(W),children:[Object(k.jsx)("h3",{children:"\ub4dc\ub85c\uc789 \ud0c0\uc785"}),Object(k.jsxs)("div",{children:[Object(k.jsx)(R,{onClick:function(){return w("line")},isActive:"line"===o,children:"\uc9c1\uc120"}),Object(k.jsx)(R,{onClick:function(){return w("spline")},isActive:"spline"===o,children:"\uace1\uc120"}),Object(k.jsx)(R,{onClick:function(){return w("ellipse")},isActive:"ellipse"===o,children:"\uc6d0"}),Object(k.jsx)(R,{onClick:function(){return w("rect")},isActive:"rect"===o,children:"\uc9c1\uc0ac\uac01\ud615"}),Object(k.jsx)(R,{onClick:function(){return w("polygon")},isActive:"polygon"===o,children:"\ub2e4\uac01\ud615"})]})]}),Object(k.jsxs)("div",{className:a()(B),children:[Object(k.jsx)("h3",{children:"\ub4dc\ub85c\uc789 \uc635\uc158"}),Object(k.jsxs)("div",{children:[Object(k.jsx)(P,{inputId:"strokeColor",onChange:function(t){return _(t,"strokeColor")},value:r,inputOption:{type:"color"},children:"\ud14c\ub450\ub9ac \uc0c9\uc0c1"}),Object(k.jsx)(P,{inputId:"strokeWidth",onChange:function(e){return function(e){var n=parseInt(e.target.value);t(x.actions.setStrokeWidth(n>50?50:n<5?5:n))}(e)},value:i,inputOption:{type:"number",min:5,max:50},children:"\ud14c\ub450\ub9ac \ub450\uaed8"}),Object(k.jsx)(P,{inputId:"fillColor",onChange:function(t){return _(t,"fillColor")},value:s,inputOption:{type:"color"},children:"\ucc44\uc6b0\uae30 \uc0c9\uc0c1"}),Object(k.jsx)(P,{inputId:"fillColorTransparency",onChange:function(){t(x.actions.setFillColorTransparency())},value:0,inputOption:{type:"checkbox",checked:c},children:"\ucc44\uc6b0\uae30 \uc5c6\uc74c"})]})]}),Object(k.jsxs)("div",{className:a()(N),children:[Object(k.jsx)("h3",{children:"\ud3b8\uc9d1"}),Object(k.jsxs)("div",{children:[Object(k.jsx)(R,{onClick:function(){var e=u>=0?u>l.length-1?l.length-1:u-1:-1;C(e),t(x.actions.setLayersNow(e)),t(x.actions.setShapes(e>-1?l[e]:[]))},isActive:!1,isDisable:u<0,children:"undo"}),Object(k.jsx)(R,{onClick:function(){var e=u<l.length-1?u+1:l.length-1;C(e),t(x.actions.setLayersNow(e)),t(x.actions.setShapes(e>-1?l[e]:[]))},isActive:!1,isDisable:u>=l.length-1,children:"redo"}),Object(k.jsx)(R,{onClick:function(){return n.length&&function(){var e=l.filter((function(t,e){return e<=u}));e.push([]),t(x.actions.setShapes([])),t(x.actions.setLayersHitory(e)),b(e);var n=u+1<h-1?u+1:h-1;t(x.actions.setLayersNow(n)),C(n)}()},isActive:!1,isDisable:!n.length,children:"clear"}),Object(k.jsx)(R,{onClick:function(){window.confirm("\ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(t(x.actions.setShapes([])),t(x.actions.setLayersHitory([])),b([]),t(x.actions.setLayersNow(-1)),C(-1))},isActive:!1,children:"reset"})]})]}),Object(k.jsxs)("div",{className:a()(L),children:[Object(k.jsx)("h3",{children:"\uc0ac\uc6a9 \uc815\ubcf4"}),Object(k.jsxs)("ul",{children:[Object(k.jsxs)("li",{children:[Object(k.jsx)("span",{children:"esc:"}),Object(k.jsx)("span",{children:"\uc9c4\ud589 \uc911\uc778 \uc791\uc5c5 \ucde8\uc18c"})]}),Object(k.jsxs)("li",{children:[Object(k.jsx)("span",{children:"\ub354\ube14\ud074\ub9ad:"}),Object(k.jsx)("span",{children:"\uc9c4\ud589 \uc911\uc778 \uc791\uc5c5(\uace1\uc120, \ub2e4\uac01\ud615)\uc744 \ud574\ub2f9 \uc704\uce58\uc5d0\uc11c \uc644\ub8cc"})]})]})]})]})},I=n(13),E=n(69),A=n.n(E),M=A.a.button,D=A.a.active,F=A.a.disable,R=function(t){var e,n=t.onClick,o=t.isActive,r=t.isDisable,i=t.style,s=t.children;return Object(k.jsx)("button",{onClick:n,className:a()(M,(e={},Object(I.a)(e,D,o),Object(I.a)(e,F,r),e)),disabled:r,style:i,children:s})},J=n(81),z=n.n(J).a.container,P=function(t){var e=t.style,n=t.inputOption,o=t.inputId,r=t.onChange,i=t.value,s=t.children;return Object(k.jsxs)("div",{className:a()(z),style:e,children:[Object(k.jsx)("label",{htmlFor:o,children:s}),Object(k.jsx)("input",Object(h.a)({id:o,onChange:r,value:i},n))]})},G=u.a.container;var X=function(){return Object(k.jsxs)("div",{className:a()(G),children:[Object(k.jsx)(_,{}),Object(k.jsx)(H,{})]})},Y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(e){var n=e.getCLS,o=e.getFID,r=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),o(t),r(t),i(t),s(t)}))},q=Object(O.a)({reducer:{canvas:x.reducer}}),K=n(113),Q=n(114),U=n(115);K.a({dsn:"https://2b40a7e129417643627963bd11e55402@o4507158840999936.ingest.us.sentry.io/4507158845325312",integrations:[Q.a(),U.a()],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}),s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(f.a,{store:q,children:Object(k.jsx)(X,{})})}),document.getElementById("root")),Y()},56:function(t,e,n){t.exports={container:"Tool_container__1Szw6",shapeButtonBox:"Tool_shapeButtonBox__3ZrH2",customInputBox:"Tool_customInputBox__5O10G",controlButtonBox:"Tool_controlButtonBox__1dCPk",guideBox:"Tool_guideBox__1njCz"}},69:function(t,e,n){t.exports={button:"Button_button__17x3e",active:"Button_active__15qMB",disable:"Button_disable__M3pI4"}},72:function(t,e,n){t.exports={container:"Canvas_container__1Vfbb",stage:"Canvas_stage__35f8o"}},76:function(t,e,n){t.exports={container:"App_container__eSJ6i"}},81:function(t,e,n){t.exports={container:"CustomInput_container__1QDtG"}},92:function(t,e,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.8aca63c0.chunk.js.map