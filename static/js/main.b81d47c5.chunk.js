(this.webpackJsonpneurocle=this.webpackJsonpneurocle||[]).push([[0],{13:function(t,e,n){t.exports={container:"Tool_container__1Szw6"}},20:function(t,e,n){t.exports={button:"Button_button__17x3e",active:"Button_active__15qMB",disable:"Button_disable__M3pI4"}},21:function(t,e,n){t.exports={container:"Canvas_container__1Vfbb",stage:"Canvas_stage__35f8o"}},23:function(t,e,n){t.exports={container:"App_container__eSJ6i"}},26:function(t,e,n){},30:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var o=n(1),i=n.n(o),s=n(15),c=n.n(s),r=(n(30),n(5)),a=n.n(r),l=n(23),u=n.n(l),h=n(8),d=n(10),p=n(4),j=n(21),b=n.n(j),f=n(6),y=n(9),O=n(19),v=Object(O.b)({name:"canvas",initialState:{shapeType:"rect",strokeColor:"#000000",strokeWidth:5,fillColor:"#000000",shapes:[],layersHistory:[],layersNow:-1},reducers:{seShapeType:function(t,e){var n=e.payload;t.shapeType=n},setColor:function(t,e){var n=e.payload;t[n.target]=n.value},setStrokeWidth:function(t,e){var n=e.payload;t.strokeWidth=n},setShapes:function(t,e){var n=e.payload;t.shapes=n},setLayersHitory:function(t,e){var n=e.payload;t.layersHistory=n},setLayersNow:function(t,e){var n=e.payload;t.layersNow=n}}}),g=function(t,e){var n=Object(o.useState)((function(){return JSON.parse(localStorage.getItem(t))||e})),i=Object(p.a)(n,2),s=i[0],c=i[1];return[s,function(e){var n="function"===typeof e?e(s):e;c(n),localStorage.setItem(t,JSON.stringify(n))}]},k=n(2),x=b.a.container,C=b.a.stage,w=function(){var t=Object(o.useState)({width:0,height:0}),e=Object(p.a)(t,2),n=e[0],i=e[1],s=Object(o.useRef)(null);Object(o.useEffect)((function(){s.current&&i({width:s.current.clientWidth,height:s.current.clientHeight});var t=function(){i({width:s.current.clientWidth,height:s.current.clientHeight})};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[s]);var c=Object(y.b)(),r=Object(y.c)((function(t){return t.canvas})),l=r.shapeType,u=r.strokeColor,j=r.strokeWidth,b=r.fillColor,O=r.shapes,w=r.layersHistory,S=r.layersNow,W=g("storedLayersHistory",[]),N=Object(p.a)(W,2),m=N[0],_=N[1],L=g("storedLayersNow",[]),H=Object(p.a)(L,2),I=H[0],A=H[1];Object(o.useEffect)((function(){!w.length&&m.length>0&&(c(v.actions.setLayersHitory(m)),c(v.actions.setLayersNow(I)),c(v.actions.setShapes(I<0?[]:m[I])))}),[]);var B=Object(o.useState)([]),M=Object(p.a)(B,2),T=M[0],D=M[1],E=Object(o.useState)({type:l,x:0,y:0,width:0,height:0,points:[],strokeColor:u,strokeWidth:j,fillColor:b}),F=Object(p.a)(E,2),J=F[0],z=F[1],P=Object(o.useState)(!1),X=Object(p.a)(P,2),Y=X[0],q=X[1];Object(o.useEffect)((function(){["spline","polygon"].includes(l)?q(!0):q(!1)}),[l]);var K=function(t){D([].concat(Object(d.a)(T),[t.pageX,t.pageY]))},R=function(){z({type:l,x:0,y:0,width:0,height:0,points:[],strokeColor:u,strokeWidth:j,fillColor:b}),D([])},U=function(t){if(!t||Y){var e=Object(d.a)(O),n=w.filter((function(t,e){return e<=S}));if(t&&Y){var o=Object(h.a)(Object(h.a)({},J),{},{points:T.slice(0,T.length-2)});e.push(o)}else e.push(J);c(v.actions.setShapes(e)),n.push(e),_(n),c(v.actions.setLayersHitory(n)),A(S+1),c(v.actions.setLayersNow(S+1)),R()}else R()};return Object(k.jsx)("div",{className:a()(x),ref:s,onMouseDown:function(t){return!Y&&K(t)},onMouseUp:function(){return!Y&&U(!1)},onClick:function(t){return Y&&K(t)},onMouseMove:function(t){return T.length>1&&function(t){D([].concat(Object(d.a)(T.slice(0,T.length>2?T.length-2:2)),[t.pageX,t.pageY]));var e=T[0]-T[T.length-2],n=T[1]-T[T.length-1],o=e<0?T[0]:T[T.length-2],i=n<0?T[1]:T[T.length-1],s={type:l,x:"ellipse"===l?o+Math.abs(e)/2:o,y:"ellipse"===l?i+Math.abs(n)/2:i,width:Math.abs(e),height:Math.abs(n),points:Object(d.a)(T),strokeColor:u,strokeWidth:j,fillColor:b};z(s)}(t)},onDoubleClick:function(){return Y&&U(!1)},onKeyDown:function(t){return"Escape"===t.key&&U(!0)},tabIndex:"0",children:Object(k.jsx)(f.e,{className:a()(C),width:n.width,height:n.height,children:Object(k.jsxs)(f.b,{children:[O.map((function(t,e){return"line"===t.type?Object(k.jsx)(f.c,{stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points},"".concat(t.type,"-").concat(e)):"spline"===t.type?Object(k.jsx)(f.c,{stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points,tension:.5},"".concat(t.type,"-").concat(e)):"ellipse"===t.type?Object(k.jsx)(f.a,{fill:t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,x:t.x,y:t.y,width:t.width,height:t.height},"".concat(t.type,"-").concat(e)):"rect"===t.type?Object(k.jsx)(f.d,{fill:t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,x:t.x,y:t.y,width:t.width,height:t.height},"".concat(t.type,"-").concat(e)):"polygon"===t.type?Object(k.jsx)(f.c,{fill:t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points,closed:!0},"".concat(t.type,"-").concat(e)):void 0})),"line"===l&&Object(k.jsx)(f.c,{stroke:u,strokeWidth:j,points:J.points}),"spline"===l&&Object(k.jsx)(f.c,{stroke:u,strokeWidth:j,points:T,tension:.5}),"ellipse"===l&&Object(k.jsx)(f.a,{fill:b,stroke:u,strokeWidth:j,x:J.x,y:J.y,width:J.width,height:J.height}),"rect"===l&&Object(k.jsx)(f.d,{stroke:u,strokeWidth:j,fill:b,x:J.x,y:J.y,width:J.width,height:J.height}),"polygon"===l&&Object(k.jsx)(f.c,{fill:b,stroke:u,strokeWidth:j,points:T,closed:!0})]})})})},S=n(13),W=n.n(S),N=W.a.container,m=W.a.shapeButtonBox,_=W.a.customInputBox,L=W.a.controlButtonBox,H=function(){var t=Object(y.b)(),e=Object(y.c)((function(t){return t.canvas})),n=e.shapes,i=e.shapeType,s=e.strokeColor,c=e.strokeWidth,r=e.fillColor,l=e.layersHistory,u=e.layersNow,h=Object(o.useState)(!0),d=Object(p.a)(h,2),j=d[0],b=d[1],f=Object(o.useState)(r),O=Object(p.a)(f,2),x=O[0],C=O[1];Object(o.useEffect)((function(){t(j?v.actions.setColor({target:"fillColor",value:"transparent"}):v.actions.setColor({target:"fillColor",value:x}))}),[j]);var w=g("storedLayersHistory",[]),S=Object(p.a)(w,2),W=(S[0],S[1]),H=g("storedLayersNow",[]),I=Object(p.a)(H,2),A=(I[0],I[1]),B=function(e){t(v.actions.seShapeType(e))},M=function(e,n){C(e.target.value),j||t(v.actions.setColor({target:n,value:e.target.value}))};return Object(k.jsxs)("div",{className:a()(N),children:[Object(k.jsxs)("div",{className:a()(m),children:[Object(k.jsx)(E,{onClick:function(){return B("line")},isActive:"line"===i,children:"\uc9c1\uc120"}),Object(k.jsx)(E,{onClick:function(){return B("spline")},isActive:"spline"===i,children:"\uace1\uc120"}),Object(k.jsx)(E,{onClick:function(){return B("ellipse")},isActive:"ellipse"===i,children:"\uc6d0"}),Object(k.jsx)(E,{onClick:function(){return B("rect")},isActive:"rect"===i,children:"\uc9c1\uc0ac\uac01\ud615"}),Object(k.jsx)(E,{onClick:function(){return B("polygon")},isActive:"polygon"===i,children:"\ub2e4\uac01\ud615"})]}),Object(k.jsx)("div",{className:a()(_),children:Object(k.jsx)(z,{inputId:"strokeColor",onChange:function(t){return M(t,"strokeColor")},value:s,inputOption:{type:"color"},children:"\ud14c\ub450\ub9ac \uc0c9\uc0c1"})}),Object(k.jsxs)("div",{children:[Object(k.jsx)(z,{inputId:"strokeWidth",onChange:function(e){return function(e){var n=parseInt(e.target.value);t(v.actions.setStrokeWidth(n>50?50:n<5?5:n))}(e)},value:c,inputOption:{type:"number",min:5,max:50},children:"\ud14c\ub450\ub9ac \ub450\uaed8"}),Object(k.jsx)(z,{inputId:"fillColor",onChange:function(t){return M(t,"fillColor")},value:"transparent"===r?x:r,inputOption:{type:"color"},children:"\ucc44\uc6b0\uae30 \uc0c9\uc0c1"}),Object(k.jsx)(z,{inputId:"fillColorTransparency",onChange:function(t){return function(t){b(t.target.checked)}(t)},value:0,inputOption:{type:"checkbox",checked:j},children:"\ucc44\uc6b0\uae30 \uc5c6\uc74c"})]}),Object(k.jsxs)("div",{className:a()(L),children:[Object(k.jsx)(E,{onClick:function(){var e=u>=0?u>l.length-1?l.length-1:u-1:-1;A(e),t(v.actions.setLayersNow(e)),t(v.actions.setShapes(e>-1?l[e]:[]))},isActive:!1,isDisable:u<0,children:"undo"}),Object(k.jsx)(E,{onClick:function(){var e=u<l.length-1?u+1:l.length-1;A(e),t(v.actions.setLayersNow(e)),t(v.actions.setShapes(e>-1?l[e]:[]))},isActive:!1,isDisable:u>=l.length-1,children:"redo"}),Object(k.jsx)(E,{onClick:function(){return n.length&&function(){var e=l.filter((function(t,e){return e<=u}));e.push([]),t(v.actions.setShapes([])),t(v.actions.setLayersHitory(e)),W(e),t(v.actions.setLayersNow(u+1)),A(u+1)}()},isActive:!1,isDisable:!n.length,children:"clear"}),Object(k.jsx)(E,{onClick:function(){window.confirm("\ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(t(v.actions.setShapes([])),t(v.actions.setLayersHitory([])),W([]),t(v.actions.setLayersNow(-1)),A(-1))},isActive:!1,children:"reset"})]})]})},I=n(3),A=n(20),B=n.n(A),M=B.a.button,T=B.a.active,D=B.a.disable,E=function(t){var e,n=t.onClick,o=t.isActive,i=t.isDisable,s=t.style,c=t.children;return Object(k.jsx)("button",{onClick:n,className:a()(M,(e={},Object(I.a)(e,T,o),Object(I.a)(e,D,i),e)),disabled:i,style:s,children:c})},F=n(26),J=n.n(F).a.container,z=function(t){var e=t.style,n=t.inputOption,o=t.inputId,i=t.onChange,s=t.value,c=t.children;return Object(k.jsxs)("div",{className:a()(J),style:e,children:[Object(k.jsx)("label",{htmlFor:o,children:c}),Object(k.jsx)("input",Object(h.a)({id:o,onChange:i,value:s},n))]})},P=u.a.container;var X=function(){return Object(k.jsxs)("div",{className:a()(P),children:[Object(k.jsx)(w,{}),Object(k.jsx)(H,{})]})},Y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),o(t),i(t),s(t),c(t)}))},q=Object(O.a)({reducer:{canvas:v.reducer}});c.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(y.a,{store:q,children:Object(k.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[38,1,2]]]);
//# sourceMappingURL=main.b81d47c5.chunk.js.map