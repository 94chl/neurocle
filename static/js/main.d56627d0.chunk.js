(this.webpackJsonpneurocle=this.webpackJsonpneurocle||[]).push([[0],{12:function(t,e,n){t.exports={container:"Tool_container__1Szw6",shapeButtonBox:"Tool_shapeButtonBox__3ZrH2",customInputBox:"Tool_customInputBox__5O10G",controlButtonBox:"Tool_controlButtonBox__1dCPk",guideBox:"Tool_guideBox__1njCz"}},20:function(t,e,n){t.exports={button:"Button_button__17x3e",active:"Button_active__15qMB",disable:"Button_disable__M3pI4"}},21:function(t,e,n){t.exports={container:"Canvas_container__1Vfbb",stage:"Canvas_stage__35f8o"}},23:function(t,e,n){t.exports={container:"App_container__eSJ6i"}},26:function(t,e,n){t.exports={container:"CustomInput_container__1QDtG"}},30:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var o=n(1),i=n.n(o),s=n(15),c=n.n(s),r=(n(30),n(5)),a=n.n(r),l=n(23),u=n.n(l),h=n(8),d=n(10),j=n(4),p=n(21),b=n.n(p),f=n(6),O=n(9),y=n(19),x=Object(y.b)({name:"canvas",initialState:{shapeType:"rect",strokeColor:"#000000",strokeWidth:5,fillColor:"#000000",shapes:[],layersHistory:[],layersNow:-1},reducers:{seShapeType:function(t,e){var n=e.payload;t.shapeType=n},setColor:function(t,e){var n=e.payload;t[n.target]=n.value},setStrokeWidth:function(t,e){var n=e.payload;t.strokeWidth=n},setShapes:function(t,e){var n=e.payload;t.shapes=n},setLayersHitory:function(t,e){var n=e.payload;t.layersHistory=n},setLayersNow:function(t,e){var n=e.payload;t.layersNow=n}}}),v=function(t,e){var n=Object(o.useState)((function(){return JSON.parse(localStorage.getItem(t))||e})),i=Object(j.a)(n,2),s=i[0],c=i[1];return[s,function(e){var n="function"===typeof e?e(s):e;c(n),localStorage.setItem(t,JSON.stringify(n))}]},g=n(2),k=b.a.container,C=b.a.stage,w=function(){var t=Object(o.useState)({width:0,height:0}),e=Object(j.a)(t,2),n=e[0],i=e[1],s=Object(o.useRef)(null);Object(o.useEffect)((function(){s.current&&i({width:s.current.clientWidth,height:s.current.clientHeight});var t=function(){i({width:s.current.clientWidth,height:s.current.clientHeight})};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[s]);var c=Object(O.b)(),r=Object(O.c)((function(t){return t.canvas})),l=r.shapeType,u=r.strokeColor,p=r.strokeWidth,b=r.fillColor,y=r.shapes,w=r.layersHistory,_=r.layersNow,S=v("storedLayersHistory",[]),W=Object(j.a)(S,2),m=W[0],N=W[1],B=v("storedLayersNow",-1),L=Object(j.a)(B,2),I=L[0],H=L[1];Object(o.useEffect)((function(){m[I]||H(m.length-1),!w.length&&m.length>0&&(c(x.actions.setLayersHitory(m)),c(x.actions.setLayersNow(I)),c(x.actions.setShapes(I<0?[]:m[I])))}),[]);var T=Object(o.useState)([]),A=Object(j.a)(T,2),M=A[0],D=A[1],E=Object(o.useState)({type:l,x:0,y:0,width:0,height:0,points:[],strokeColor:u,strokeWidth:p,fillColor:b}),F=Object(j.a)(E,2),J=F[0],z=F[1],P=Object(o.useState)(!1),G=Object(j.a)(P,2),X=G[0],Y=G[1],q=Object(o.useState)(!1),K=Object(j.a)(q,2),Q=K[0],R=K[1];Object(o.useEffect)((function(){["spline","polygon"].includes(l)?R(!0):R(!1)}),[l]);var U=function(t){D([].concat(Object(d.a)(M),[t.pageX,t.pageY])),Y(!0)},V=function(){z({type:l,x:0,y:0,width:0,height:0,points:[],strokeColor:u,strokeWidth:p,fillColor:b}),D([]),Y(!1)},Z=function(t){if(!t||Q){var e=Object(d.a)(y),n=_<=3?w.filter((function(t,e){return e<=_})):w.filter((function(t,e){return e>0&&e<3}));if(t&&Q){var o=Object(h.a)(Object(h.a)({},J),{},{points:M.slice(0,M.length-2)});e.push(o)}else e.push(J);c(x.actions.setShapes(e)),n.push(e),N(n),c(x.actions.setLayersHitory(n)),H(_+1),c(x.actions.setLayersNow(_+1)),V()}else V()};return Object(g.jsx)("div",{className:a()(k),ref:s,onMouseDown:function(t){return!Q&&U(t)},onMouseUp:function(){return!Q&&Z(!1)},onClick:function(t){return Q&&U(t)},onMouseMove:function(t){return X&&function(t){D([].concat(Object(d.a)(M.slice(0,M.length>2?M.length-2:2)),[t.pageX,t.pageY]));var e=M[0]-M[M.length-2],n=M[1]-M[M.length-1],o=e<0?M[0]:M[M.length-2],i=n<0?M[1]:M[M.length-1],s={type:l,x:"ellipse"===l?o+Math.abs(e)/2:o,y:"ellipse"===l?i+Math.abs(n)/2:i,width:Math.abs(e),height:Math.abs(n),points:Object(d.a)(M),strokeColor:u,strokeWidth:p,fillColor:b};z(s)}(t)},onDoubleClick:function(){return Q&&Z(!1)},onKeyDown:function(t){return"Escape"===t.key&&Z(!0)},tabIndex:"0",children:Object(g.jsx)(f.e,{className:a()(C),width:n.width,height:n.height,children:Object(g.jsxs)(f.b,{children:[y.map((function(t,e){return"line"===(null===t||void 0===t?void 0:t.type)?Object(g.jsx)(f.c,{stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points},"".concat(t.type,"-").concat(e)):"spline"===(null===t||void 0===t?void 0:t.type)?Object(g.jsx)(f.c,{stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points,tension:.5},"".concat(t.type,"-").concat(e)):"ellipse"===(null===t||void 0===t?void 0:t.type)?Object(g.jsx)(f.a,{fill:t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,x:t.x,y:t.y,width:t.width,height:t.height},"".concat(t.type,"-").concat(e)):"rect"===(null===t||void 0===t?void 0:t.type)?Object(g.jsx)(f.d,{fill:t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,x:t.x,y:t.y,width:t.width,height:t.height},"".concat(t.type,"-").concat(e)):"polygon"===(null===t||void 0===t?void 0:t.type)?Object(g.jsx)(f.c,{fill:t.fillColor,stroke:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points,closed:!0},"".concat(t.type,"-").concat(e)):void 0})),"line"===l&&Object(g.jsx)(f.c,{stroke:u,strokeWidth:p,points:J.points}),"spline"===l&&Object(g.jsx)(f.c,{stroke:u,strokeWidth:p,points:M,tension:.5}),"ellipse"===l&&Object(g.jsx)(f.a,{fill:b,stroke:u,strokeWidth:p,x:J.x,y:J.y,width:J.width,height:J.height}),"rect"===l&&Object(g.jsx)(f.d,{stroke:u,strokeWidth:p,fill:b,x:J.x,y:J.y,width:J.width,height:J.height}),"polygon"===l&&Object(g.jsx)(f.c,{fill:b,stroke:u,strokeWidth:p,points:M,closed:!0})]})})})},_=n(12),S=n.n(_),W=S.a.container,m=S.a.shapeButtonBox,N=S.a.customInputBox,B=S.a.controlButtonBox,L=S.a.guideBox,I=function(){var t=Object(O.b)(),e=Object(O.c)((function(t){return t.canvas})),n=e.shapes,i=e.shapeType,s=e.strokeColor,c=e.strokeWidth,r=e.fillColor,l=e.layersHistory,u=e.layersNow,h=Object(o.useState)(!0),d=Object(j.a)(h,2),p=d[0],b=d[1],f=Object(o.useState)(r),y=Object(j.a)(f,2),k=y[0],C=y[1];Object(o.useEffect)((function(){t(p?x.actions.setColor({target:"fillColor",value:"transparent"}):x.actions.setColor({target:"fillColor",value:k}))}),[p]);var w=v("storedLayersHistory",[]),_=Object(j.a)(w,2),S=(_[0],_[1]),I=v("storedLayersNow",-1),H=Object(j.a)(I,2),T=(H[0],H[1]),A=function(e){t(x.actions.seShapeType(e))},M=function(e,n){C(e.target.value),p||t(x.actions.setColor({target:n,value:e.target.value}))};return Object(g.jsxs)("div",{className:a()(W),children:[Object(g.jsxs)("div",{className:a()(m),children:[Object(g.jsx)("h3",{children:"\ub4dc\ub85c\uc789 \ud0c0\uc785"}),Object(g.jsxs)("div",{children:[Object(g.jsx)(F,{onClick:function(){return A("line")},isActive:"line"===i,children:"\uc9c1\uc120"}),Object(g.jsx)(F,{onClick:function(){return A("spline")},isActive:"spline"===i,children:"\uace1\uc120"}),Object(g.jsx)(F,{onClick:function(){return A("ellipse")},isActive:"ellipse"===i,children:"\uc6d0"}),Object(g.jsx)(F,{onClick:function(){return A("rect")},isActive:"rect"===i,children:"\uc9c1\uc0ac\uac01\ud615"}),Object(g.jsx)(F,{onClick:function(){return A("polygon")},isActive:"polygon"===i,children:"\ub2e4\uac01\ud615"})]})]}),Object(g.jsxs)("div",{className:a()(N),children:[Object(g.jsx)("h3",{children:"\ub4dc\ub85c\uc789 \uc635\uc158"}),Object(g.jsxs)("div",{children:[Object(g.jsx)(P,{inputId:"strokeColor",onChange:function(t){return M(t,"strokeColor")},value:s,inputOption:{type:"color"},children:"\ud14c\ub450\ub9ac \uc0c9\uc0c1"}),Object(g.jsx)(P,{inputId:"strokeWidth",onChange:function(e){return function(e){var n=parseInt(e.target.value);t(x.actions.setStrokeWidth(n>50?50:n<5?5:n))}(e)},value:c,inputOption:{type:"number",min:5,max:50},children:"\ud14c\ub450\ub9ac \ub450\uaed8"}),Object(g.jsx)(P,{inputId:"fillColor",onChange:function(t){return M(t,"fillColor")},value:"transparent"===r?k:r,inputOption:{type:"color"},children:"\ucc44\uc6b0\uae30 \uc0c9\uc0c1"}),Object(g.jsx)(P,{inputId:"fillColorTransparency",onChange:function(t){return function(t){b(t.target.checked)}(t)},value:0,inputOption:{type:"checkbox",checked:p},children:"\ucc44\uc6b0\uae30 \uc5c6\uc74c"})]})]}),Object(g.jsxs)("div",{className:a()(B),children:[Object(g.jsx)("h3",{children:"\ud3b8\uc9d1"}),Object(g.jsxs)("div",{children:[Object(g.jsx)(F,{onClick:function(){var e=u>=0?u>l.length-1?l.length-1:u-1:-1;T(e),t(x.actions.setLayersNow(e)),t(x.actions.setShapes(e>-1?l[e]:[]))},isActive:!1,isDisable:u<0,children:"undo"}),Object(g.jsx)(F,{onClick:function(){var e=u<l.length-1?u+1:l.length-1;T(e),t(x.actions.setLayersNow(e)),t(x.actions.setShapes(e>-1?l[e]:[]))},isActive:!1,isDisable:u>=l.length-1,children:"redo"}),Object(g.jsx)(F,{onClick:function(){return n.length&&function(){var e=l.filter((function(t,e){return e<=u}));e.push([]),t(x.actions.setShapes([])),t(x.actions.setLayersHitory(e)),S(e),t(x.actions.setLayersNow(u+1)),T(u+1)}()},isActive:!1,isDisable:!n.length,children:"clear"}),Object(g.jsx)(F,{onClick:function(){window.confirm("\ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(t(x.actions.setShapes([])),t(x.actions.setLayersHitory([])),S([]),t(x.actions.setLayersNow(-1)),T(-1))},isActive:!1,children:"reset"})]})]}),Object(g.jsxs)("div",{className:a()(L),children:[Object(g.jsx)("h3",{children:"\uc0ac\uc6a9 \uc815\ubcf4"}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{children:[Object(g.jsx)("span",{children:"esc:"}),Object(g.jsx)("span",{children:"\uc9c4\ud589 \uc911\uc778 \uc791\uc5c5 \ucde8\uc18c"})]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("span",{children:"\ub354\ube14\ud074\ub9ad:"}),Object(g.jsx)("span",{children:"\uc9c4\ud589 \uc911\uc778 \uc791\uc5c5(\uace1\uc120, \ub2e4\uac01\ud615)\uc744 \ud574\ub2f9 \uc704\uce58\uc5d0\uc11c \uc644\ub8cc"})]})]})]})]})},H=n(3),T=n(20),A=n.n(T),M=A.a.button,D=A.a.active,E=A.a.disable,F=function(t){var e,n=t.onClick,o=t.isActive,i=t.isDisable,s=t.style,c=t.children;return Object(g.jsx)("button",{onClick:n,className:a()(M,(e={},Object(H.a)(e,D,o),Object(H.a)(e,E,i),e)),disabled:i,style:s,children:c})},J=n(26),z=n.n(J).a.container,P=function(t){var e=t.style,n=t.inputOption,o=t.inputId,i=t.onChange,s=t.value,c=t.children;return Object(g.jsxs)("div",{className:a()(z),style:e,children:[Object(g.jsx)("label",{htmlFor:o,children:c}),Object(g.jsx)("input",Object(h.a)({id:o,onChange:i,value:s},n))]})},G=u.a.container;var X=function(){return Object(g.jsxs)("div",{className:a()(G),children:[Object(g.jsx)(w,{}),Object(g.jsx)(I,{})]})},Y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),o(t),i(t),s(t),c(t)}))},q=Object(y.a)({reducer:{canvas:x.reducer}});c.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(O.a,{store:q,children:Object(g.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[38,1,2]]]);
//# sourceMappingURL=main.d56627d0.chunk.js.map